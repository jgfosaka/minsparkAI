{% extends "base.html" %}
{% block content %}
<div class="container text-center mt-5">
    <h1 class="mb-4 text-light">üìä Estat√≠sticas de Desempenho</h1>
    <p class="text-secondary">Veja a propor√ß√£o entre seus acertos e erros nos flashcards.</p>

    <!-- Gr√°fico de Rosquinha -->
    <div class="card bg-dark text-light shadow-lg p-4 mt-4">
        <h4 class="mb-3">ü•ß Propor√ß√£o de Acertos e Erros</h4>
        <canvas id="graficoPizza" width="300" height="300"></canvas>
    </div>

    <div class="mt-4">
        <h4>Resumo:</h4>
        <p>‚úÖ Acertos: <strong>{{ acertos_total }}</strong></p>
        <p>‚ùå Erros: <strong>{{ erros_total }}</strong></p>
    </div>
</div>

<!-- Script Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctxPizza = document.getElementById('graficoPizza').getContext('2d');
    const graficoPizza = new Chart(ctxPizza, {
        type: 'doughnut',
        data: {
            labels: ['Acertos', 'Erros'],
            datasets: [{
                data: [{{ acertos_total }}, {{ erros_total }}],
                backgroundColor: ['#00ff9c', '#ff4c4c'],
                hoverOffset: 12
            }]
        },
        options: {
            plugins: {
                legend: {
                    labels: {
                        color: '#fff',
                        font: { size: 14 }
                    }
                }
            }
        }
    });
</script>

{% endblock %}
